import { NextLinks, Link, ELink, DocHeader, Title, Subtitle, BeyondJS } from "@beyond/docs/components/html";
import { CodeBox, Code } from "@beyond/docs/code";

<DocHeader pretitle="Basics" title="Creación de módulos" />

> En esta página se asume que ya se ha leído
> la <Link href="/modules/intro">introducción sobre módulos en la documentación.</Link>

Los módulos se configuran a través de un objeto JSON que se guarda en un archivo
llamado `module.json`. La estructura básica de este archivo es la siguiente:

<CodeBox title="module.json" language="json">

{`{
  "name": "module-name",
  "platforms": ["browser"] 
  "bundle": { 
    // bundle properties
  }
}`}

</CodeBox>

> Para crear un módulo, es necesario tener previamente un paquete creado.

Como se puede ver en el ejemplo anterior, el archivo `module.json`
puede contener las siguientes propiedades:

-   `name`: es el nombre del módulo.
-   `platfoms`: es una lista que indica las plataformas para las
    que está disponible el bundle. Si no se especifica, se considera que el
    bundle es compatible con todas las plataformas.
-   `[bundleName]`: se utiliza para especificar el tipo de bundle que se desea
    crear en el módulo. Un módulo puede contener múltiples bundles, simplemente
    agregando más propiedades con el nombre de cada bundle adicional.
    l valor de esta propiedad es un objeto que contiene la configuración del bundle,
    y las propiedades dentro de este objeto varían dependiendo del tipo de bundle
    que se está agregando. Para obtener más información sobre los diferentes
    tipos de bundles y su configuración, consulta la sección de bundles de la documentación.

<Title tag="h3" text="Ejemplo de configuración" />

Recordando el ejemplo definido en la introducción, que tenía las siguientes características:

-   Un archivo auth.ts con un objeto Auth que sirve de modelo y permite realizar la llamada para el inicio de sesión.
-   Un archivo user.ts con un objeto User que expone la información del usuario en caso de que inicie sesión.
-   Un archivo de estilos styles.scss
-   Un componente de interfaz gráfica form.tsx.

El `module.json` para este módulo podría definirse de la siguiente forma:

<Code title="module.json" language="json">
{`
{
    "name": "login",
    "code": {
        "ts": {
            "path": "ts",
            "files": ["*"]
        },
        "sass": {
            "path": "sass",
            "files": ["*"]
        }
    }
}
`}

</Code>

En el ejemplo anterior, se está creando un módulo de nombre first-module, con un bundle code que contiene un procesador sass y un procesador ts que procesan código Sass y Typescript respectivamente y que será empaquetado para plataforma web.

Un módulo puede contener varios bundles, estos se definen como propiedades del objeto de configuración del módulo y un módulo pureciben como valor un objeto de configuración que aparte de los procesadores, puede recibir algunas propiedades adicionales según el tipo de bundle. Puedes leer más en detalle sobre esto
en <Link href="/docs/bundles">La sección de bundles.</Link>

<NextLinks items={["modules/bundles", "modules/processors"]} />
